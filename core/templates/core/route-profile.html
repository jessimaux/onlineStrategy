{% extends 'core/page-layout.html' %}
{% load widget_tweaks %}
{% load static %}
{% block title %}Курсы{% endblock %}
{% block page %}
<div class="container">
  <h2 class="my-3">Образовательный маршрут</h2>

  <nav class="nav nav-pills flex-column flex-sm-row">
    <a class="text-sm-center nav-link active" aria-current="page" href="{% url 'route-profile' %}">Профиль</a>
    <a class="text-sm-center nav-link" href="{% url 'route-diagnostics' %}">Диагностика</a>
    <a class="text-sm-center nav-link" href="#">Индивидуальный план</a>
    <a class="text-sm-center nav-link" href="#">Материалы</a>
  </nav>

  <div class="row justify-content-between">
    <div class="col-lg-3 bg-white rounded shadow-sm p-3 mt-3">
      <form method="post" enctype="multipart/form-data">
        {% csrf_token %}
        {{ form.as_p }}
        <button type="submit">Upload</button>
      </form>
      <img src="{{ img_obj}}">
    </div>

    <div class="col-lg-8 bg-white rounded shadow-sm p-3 mt-3">
      <p>Злобин Максим Сергеевич<br>
        Ваш методист<br>
        Кузнецова Марина Кузьминична<br>
        cnppm.lipetsk@yandex.ru<br>
        vk / telegram<br>
        Связаться<br>
        Пригласить на урок<br>
      </p>
    </div>

    <div class="col-lg-12 bg-white rounded shadow-sm p-3 mt-3">
      <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
      <script type="text/javascript">
        google.charts.load("current", {packages:["corechart"]});
        google.charts.setOnLoadCallback(drawChart);
        function drawChart() {
          var data = google.visualization.arrayToDataTable([
            ['Шкала', 'Результат'],
            ['Шкала 1', {{ result.0 }}],
            ['Шкала 2', {{ result.1 }}],
            ['Шкала 3', {{ result.2 }}],
            ['Шкала 4', {{ result.3 }}]
            ]);

          var options = {
            pieHole: 0.4,
          };

          var chart = new google.visualization.PieChart(document.getElementById('donutchart'));
          chart.draw(data, options);
        }
      </script>
      <div id="donutchart" style="width: 900px; height: 500px;"></div>
    </div>

  </div>
  {% endblock %}